(this["webpackJsonpntu-note"]=this["webpackJsonpntu-note"]||[]).push([[0],{45:function(e,t,s){},75:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(1),a=s.n(c),i=s(35),l=s.n(i),r=(s(44),s(6)),o=s(7),d=s(9),j=s(8),b=(s(45),s(3)),h=s(4),u=s(19),O=s(2),x=s.n(O);function m(e){return Object(u.a)(e.notes).sort((function(e,t){return e.time_stamp<t.time_stamp?1:-1})).map((function(e){return Object(n.jsxs)(b.b,{to:"/note/".concat(e._id),className:"navbar-item",children:[Object(n.jsx)("ion-icon",{name:"document-outline"})," \xa0 ",e.title]})}))}function p(e){var t=Object(h.h)().id;return Object(n.jsxs)("div",{class:"navbar-item has-dropdown is-hoverable",children:[Object(n.jsx)(b.b,{class:"navbar-link",to:"/note/".concat(t),children:e.note&&e.note.title}),Object(n.jsxs)("div",{class:"navbar-dropdown is-boxed is-right",children:[Object(n.jsxs)(b.b,{class:"navbar-item",to:"/note/".concat(t,"/settings"),children:[Object(n.jsx)("ion-icon",{name:"cog-outline"})," \xa0 Note Settings"]}),Object(n.jsx)("hr",{class:"navbar-divider"}),Object(n.jsxs)("div",{class:"navbar-item",children:[Object(n.jsx)("ion-icon",{name:"eye-outline"})," \xa0\xa0",e.note&&(e.note.public?"Public":"Private")," Note"]}),Object(n.jsxs)("div",{class:"navbar-item",children:[Object(n.jsx)("ion-icon",{name:"link-outline"})," \xa0\xa0 ",Object(n.jsx)("a",{href:"/note/".concat(e.note&&e.note._id),children:"Permalink"})]})]})]})}function v(e){var t=Object(h.g)();return Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{path:"/note/:id",children:Object(n.jsx)(p,{note:e.note})}),Object(n.jsx)(h.b,{path:"/",children:Object(n.jsx)("div",{class:"navbar-item",children:Object(n.jsx)("button",{class:"button is-small is-info is-outlined",onClick:function(){x.a.post("/api/notes/new",{}).then((function(s){console.log(s.data),!0===s.data.success&&(e.noteHandler(s.data.note),t.push("/note/".concat(s.data.note._id)))}))},children:" New Note "})})})]})}x.a.defaults.withCredentials=!0;var f=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){return Object(r.a)(this,s),t.call(this,e)}return Object(o.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("nav",{className:"navbar is-transparent",role:"navigation","aria-label":"main navigation",children:[Object(n.jsxs)("div",{className:"navbar-brand",children:[Object(n.jsx)(b.b,{className:"navbar-item",to:"/",children:Object(n.jsx)("b",{children:"NTU Note"})}),Object(n.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(n.jsx)("span",{"aria-hidden":"true"}),Object(n.jsx)("span",{"aria-hidden":"true"}),Object(n.jsx)("span",{"aria-hidden":"true"})]})]}),Object(n.jsxs)("div",{className:"navbar-menu",children:[Object(n.jsx)("div",{className:"navbar-start",children:this.props.user&&Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(b.b,{className:"navbar-item",to:"/notes",children:"My Notes"}),Object(n.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",href:"/",children:[Object(n.jsx)("div",{className:"navbar-link",children:" Recent "}),Object(n.jsxs)("div",{className:"navbar-dropdown is-boxed",children:[Object(n.jsx)(m,{notes:this.props.notes}),Object(n.jsx)("hr",{className:"navbar-divider"}),Object(n.jsxs)(b.b,{className:"navbar-item",to:"/notes/recent",children:[Object(n.jsx)("ion-icon",{name:"ellipsis-horizontal-outline"})," \xa0 Other Recent Notes"]})]})]})]})}),Object(n.jsx)("div",{className:"navbar-end",children:this.props.user?Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(v,{note:this.props.note,noteHandler:this.props.noteHandler}),Object(n.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",href:"/",children:[Object(n.jsxs)("div",{className:"navbar-link",children:[Object(n.jsx)("span",{class:"tag",children:Object(n.jsx)("b",{children:this.props.user.username[0]})}),"\xa0 ",this.props.user.username]}),Object(n.jsxs)("div",{className:"navbar-dropdown is-boxed is-right",children:[Object(n.jsxs)(b.b,{className:"navbar-item",to:"/profile/".concat(this.props.user._id),children:[Object(n.jsx)("ion-icon",{name:"person-outline"})," \xa0 Profile"]}),Object(n.jsxs)(b.b,{className:"navbar-item",to:"/settings",children:[Object(n.jsx)("ion-icon",{name:"cog-outline"})," \xa0 Settings"]}),Object(n.jsx)("hr",{className:"navbar-divider"}),Object(n.jsxs)("a",{className:"navbar-item",onClick:this.props.logoutHandler,children:[Object(n.jsx)("ion-icon",{name:"log-out-outline"})," \xa0 Sign out"]})]})]})]}):Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)("div",{className:"navbar-item",children:Object(n.jsx)(b.b,{className:"navbar-item",to:"/signin",children:"Sign in"})})})})]})]})}}]),s}(a.a.Component),g=s(37),N=(Date.now(),Date.now(),Date.now(),s(25)),y=s.n(N);function w(e){var t=Object(h.h)().directory;return t&&"recent"!==t?Object(n.jsxs)("table",{class:"table is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{style:{width:"45vw"},children:"Title"}),Object(n.jsx)("th",{style:{width:"20vw"},children:"Directory"}),Object(n.jsx)("th",{style:{width:"20vw"},children:"Last Modified Time"})]})}),Object(n.jsx)("tbody",{children:e.notes.filter((function(e){return e.directory===t})).map((function(e){return Object(n.jsxs)("tr",{draggable:"true",children:[Object(n.jsx)("td",{children:Object(n.jsx)("ion-icon",{name:"document-outline"})}),Object(n.jsx)("td",{children:Object(n.jsx)(b.b,{to:"/note/".concat(e._id),children:e.title})}),Object(n.jsx)("td",{children:e.directory?Object(n.jsx)(b.b,{to:"/note/directory/".concat(e.directory),children:e.directory}):"--"}),Object(n.jsx)("td",{children:y.a.unix(e.time_stamp/1e3).format("YYYY / MM / DD  HH:mm:ss")})]},e.id)}))})]}):Object(n.jsxs)("table",{class:"table is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{style:{width:"45vw"},children:"Title"}),Object(n.jsx)("th",{style:{width:"20vw"},children:"Directory"}),Object(n.jsx)("th",{style:{width:"20vw"},children:"Last Modified Time"})]})}),Object(n.jsx)("tbody",{children:e.notes.map((function(e){return Object(n.jsxs)("tr",{draggable:"true",children:[Object(n.jsx)("td",{children:Object(n.jsx)("ion-icon",{name:"document-outline"})}),Object(n.jsx)("td",{children:Object(n.jsx)(b.b,{to:"/note/".concat(e._id),children:e.title})}),Object(n.jsx)("td",{children:e.directory?Object(n.jsx)(b.b,{to:"/note/directory/".concat(e.directory),children:e.directory}):"--"}),Object(n.jsx)("td",{children:y.a.unix(e.time_stamp/1e3).format("YYYY / MM / DD  HH:mm:ss")})]},e.id)}))})]})}function H(e){var t,s=[],n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;c.directory&&!(c.directory in s)&&s.push(c.directory)}}catch(a){n.e(a)}finally{n.f()}return s}function S(e){var t=Object(h.i)();return Object(n.jsxs)("aside",{className:"menu",children:[Object(n.jsx)("p",{className:"menu-label",children:"Search"}),Object(n.jsx)("div",{className:"field",children:Object(n.jsxs)("p",{className:"control has-icons-left",children:[Object(n.jsx)("input",{className:"input is-small is-rounded",type:"text",placeholder:"Title, Content or Tags"}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("ion-icon",{name:"search-outline"})})]})}),Object(n.jsx)("p",{className:"menu-label",children:"General"}),Object(n.jsxs)("ul",{className:"menu-list",children:[Object(n.jsx)("li",{children:Object(n.jsx)(b.b,{to:"".concat(t.url),children:"All"})}),Object(n.jsx)("li",{children:Object(n.jsx)(b.b,{to:"".concat(t.url,"/recent"),children:"Recent"})})]}),Object(n.jsx)("p",{className:"menu-label",children:"Directories"}),Object(n.jsx)("ul",{className:"menu-list",children:H(e.notes).map((function(e){return Object(n.jsx)("li",{children:Object(n.jsx)(b.b,{to:"/notes/".concat(e),children:e})})}))})]})}var _=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={notes:[]},n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;x.a.post("/api/notes/my",{}).then((function(t){e.setState({notes:t.data.notes})}))}},{key:"render",value:function(){return this.props.user?Object(n.jsxs)("div",{className:"columns",id:"content",children:[Object(n.jsx)("div",{className:"column is-2",children:Object(n.jsx)(S,{notes:this.state.notes})}),Object(n.jsx)("div",{className:"column is-10",children:Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{path:"/notes/:directory",children:Object(n.jsx)(w,{notes:this.state.notes})}),Object(n.jsx)(h.b,{path:"/notes/recent",children:Object(n.jsx)(w,{notes:Object(u.a)(this.state.notes).sort((function(e,t){return e.time_stamp<t.time_stamp?1:-1}))})}),Object(n.jsx)(h.b,{path:"/notes",children:Object(n.jsx)(w,{notes:this.state.notes})})]})})]}):Object(n.jsx)(h.a,{to:"/signin"})}}]),s}(a.a.Component),k=(s(70),s(71),s(38)),C=s(16),D=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).changeHandler=function(e){n.setState(Object(C.a)({},e.target.name,e.target.value))},n.deleteHandler=function(e){e.preventDefault(),n.props.note&&x.a.post("/api/notes/delete",{nid:n.props.note._id}).then((function(e){e.data.success&&(window.location="/")}))},n.submitHandler=function(e){e.preventDefault(),x.a.post("/api/notes/update",{nid:n.props.note._id,title:n.state.title,directory:n.state.directory,public:"true"===n.state.public}).then((function(e){console.log(e.data.note),e.data.success&&n.props.noteHandler(e.data.note)}))},e.note?n.state={title:e.note.title,directory:e.note.directory,new_directory:"",public:e.note.public?"true":"false",delete_check:""}:n.state={title:"",directory:"",public:"false",delete_check:""},n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){e.note&&this.setState({title:e.note.title,directory:e.note.directory,public:e.note.public?"true":"false",delete_check:""})}},{key:"render",value:function(){return!this.props.user||this.props.note&&this.props.user&&this.props.note.author!==this.props.user._id?Object(n.jsx)(h.a,{to:"/"}):Object(n.jsx)("div",{class:"section",children:Object(n.jsxs)("div",{class:"columns",children:[Object(n.jsx)("div",{class:"column"}),Object(n.jsxs)("div",{class:"column",children:[Object(n.jsx)("h1",{class:"title is-size-4",children:"Note Settings"}),Object(n.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"Title"}),Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("input",{name:"title",class:"input",type:"text",value:this.state.title,onChange:this.changeHandler})})]}),Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"Directory"}),Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("input",{name:"directory",class:"input",type:"text",value:this.state.directory,onChange:this.changeHandler})})]}),Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"Visibility"}),Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("div",{class:"select",children:Object(n.jsxs)("select",{name:"public",value:this.state.public,onChange:this.changeHandler,children:[Object(n.jsx)("option",{value:"true",children:"Public"}),Object(n.jsx)("option",{value:"false",children:"Private"})]})})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"Delete Note"}),Object(n.jsxs)("div",{class:"field is-grouped",children:[Object(n.jsx)("p",{class:"control is-expanded",children:Object(n.jsx)("input",{name:"delete_check",class:"input",type:"text",placeholder:"Type complete title here to delete note",onChange:this.changeHandler,value:this.state.delete_check})}),Object(n.jsx)("p",{class:"control",children:Object(n.jsx)("button",{class:"button is-danger",disabled:!(this.props.note&&this.state.delete_check===this.props.note.title),onClick:this.deleteHandler,children:"Delete"})})]})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{class:"field is-grouped",children:Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("button",{type:"submit",class:"button is-info",children:"Save Changes"})})})]})]}),Object(n.jsx)("div",{class:"column"})]})})}}]),s}(a.a.Component);x.a.defaults.withCredentials=!0;var P=function(e){var t=a.a.createRef(),s=Object(h.h)().id,i=Object(h.g)(),l=0;return Object(c.useEffect)((function(){return x.a.post("/api/notes/get",{id:s}).then((function(s){var n=s.data.note;n?(console.log(n),document.title=n.title,e.note&&e.note._id===n._id||e.noteHandler(n),t.current&&t.current.getInstance().setMarkdown(n.content)):i.push("/")})),function(){document.title="NTU Note"}})),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{path:"/note/".concat(s,"/settings"),children:Object(n.jsx)("div",{children:Object(n.jsx)(D,{note:e.note,user:e.user,noteHandler:e.noteHandler})})}),Object(n.jsx)(h.b,{path:"/note/".concat(s,"/"),children:Object(n.jsx)("div",{id:"editor",children:Object(n.jsx)(k.Editor,{previewStyle:"vertical",height:"90vh",hideModeSwitch:"true",ref:t,onChange:function(){document.title="Saving...",setTimeout((function(){if(l<Date.now()-3e3&&(l=Date.now(),t.current)){var e=t.current.getInstance().getMarkdown();x.a.post("/api/notes/save",{nid:s,content:e}).then((function(e){e.data.success&&(document.title=e.data.note.title)}))}}),3e3)}})})})]})};x.a.defaults.withCredentials=!0;var T=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var n,c;(Object(r.a)(this,s),(n=t.call(this,e)).submitHandler=function(e){n.setState({message:"",success_message:""}),e.preventDefault(),x.a.post("/auth/update",{user_id:n.props.user._id,username:n.state.username,new_password:n.state.new_password,profile:n.state.profile,password:n.state.password}).then((function(e){console.log(e.data),!0===e.data.success?(n.props.loginHandler(e.data.user),n.setState({success_message:e.data.message})):n.setState({message:e.data.message})}))},n.changeHandler=function(e){n.setState(Object(C.a)({},e.target.name,e.target.value))},e.user)&&(n.state={username:e.user.username,profile:null!==(c=e.user.profile)&&void 0!==c?c:"",new_password:"",password:"",message:"",success_message:""});return n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){document.title="Settings"}},{key:"componentWillUnmount",value:function(){document.title="NTU Note"}},{key:"render",value:function(){return this.props.user?Object(n.jsx)("div",{class:"section",children:Object(n.jsxs)("div",{class:"columns",children:[Object(n.jsx)("div",{class:"column"}),Object(n.jsxs)("div",{class:"column",children:[Object(n.jsx)("h1",{class:"title is-size-4",children:"Settings"}),Object(n.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"Username"}),Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("input",{name:"username",class:"input",type:"text",placeholder:"Username",value:this.state.username,onChange:this.changeHandler,required:!0})})]}),Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"New Password"}),Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("input",{name:"new_password",class:"input",type:"password",placeholder:"Left blank to remain",onChange:this.changeHandler})})]}),Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"Profile"}),Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("textarea",{name:"profile",class:"textarea",placeholder:"Personal Profile",value:this.state.profile,onChange:this.changeHandler})})]}),Object(n.jsxs)("div",{class:"field",children:[Object(n.jsx)("label",{class:"label",children:"Password"}),Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("input",{name:"password",class:"input",type:"password",onChange:this.changeHandler,placeholder:"We need you password to make changes",required:!0})})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{class:"field is-grouped",children:Object(n.jsx)("div",{class:"control",children:Object(n.jsx)("button",{type:"submit",class:"button is-info",children:"Submit"})})}),Object(n.jsxs)("p",{class:"help is-danger",children:[" ",this.state.message]}),Object(n.jsxs)("p",{class:"help is-success",children:[" ",this.state.success_message]})]})]}),Object(n.jsx)("div",{class:"column"})]})}):Object(n.jsx)(h.a,{to:"/signin"})}}]),s}(a.a.Component);x.a.defaults.withCredentials=!0;var M=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).changeHandler=function(e){n.setState(Object(C.a)({},e.target.name,e.target.value))},n.clickHandler=function(e){"signin"===e.target.value?(n.setState({message:"",success_message:""}),x.a.post("/auth/signin",{username:n.state.username,password:n.state.password}).then((function(e){!0===e.data.success?(n.props.loginHandler(e.data.user),x.a.post("/api/notes/my",{}).then((function(e){n.props.notesHandler(e.data.notes)}))):n.setState({message:e.data.message})}))):"signup"===e.target.value&&(n.setState({message:"",success_message:""}),x.a.post("/auth/signup",{username:n.state.username,password:n.state.password}).then((function(e){!0===e.data.success?n.setState({success_message:e.data.message}):n.setState({message:e.data.message})})))},n.submitHandler=function(e){e.preventDefault()},n.state={username:"",password:"",message:"",success_message:""},n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){document.title="Sign in"}},{key:"componentWillUnmount",value:function(){document.title="NTU Note"}},{key:"render",value:function(){return this.props.user?Object(n.jsx)(h.a,{to:"/"}):Object(n.jsx)("div",{className:"section is-medium",children:Object(n.jsxs)("div",{className:"columns",children:[Object(n.jsx)("div",{className:"column"}),Object(n.jsxs)("div",{className:"column",children:[Object(n.jsx)("h1",{className:"title is-size-4",children:"Sign in"}),Object(n.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Username"}),Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("input",{name:"username",className:"input",type:"text",placeholder:"Username",value:this.state.username,onChange:this.changeHandler,required:!0})})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Password"}),Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("input",{name:"password",className:"input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.changeHandler,required:!0})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"field is-grouped",children:[Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("button",{type:"submit",value:"signin",className:"button is-info",onClick:this.clickHandler,children:"Sign in"})}),Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("button",{type:"submit",value:"signup",className:"button is-light",onClick:this.clickHandler,children:"Sign up"})})]}),Object(n.jsxs)("p",{class:"help is-danger",children:[" ",this.state.message]}),Object(n.jsxs)("p",{class:"help is-success",children:[" ",this.state.success_message]})]})]}),Object(n.jsx)("div",{className:"column"})]})})}}]),s}(a.a.Component),U=s(20);x.a.defaults.withCredentials=!0;var Y=function(e){var t=Object(h.h)().id,s=Object(c.useState)([]),a=Object(U.a)(s,2),i=a[0],l=a[1],r=Object(c.useState)(),o=Object(U.a)(r,2),d=o[0],j=o[1],u=Object(c.useState)(),O=Object(U.a)(u,2),m=O[0],p=O[1];return Object(c.useEffect)((function(){return document.title="Profile",x.a.post("/user/info",{user_id:t}).then((function(e){j(e.data.username),p(e.data.profile),l(e.data.notes)})),function(){document.title="NTU Note"}}),[]),Object(n.jsx)("div",{class:"content",children:Object(n.jsx)("div",{class:"section",children:Object(n.jsxs)("div",{class:"columns",children:[Object(n.jsx)("div",{class:"column"}),Object(n.jsxs)("div",{class:"column is-7",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{class:"is-size-3",children:d})," \xa0 ",Object(n.jsxs)("small",{class:"is-size-5",children:[i.length," Public Notes"]})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("p",{children:[Object(n.jsx)("label",{class:"label",children:"Profile"}),null!==m&&void 0!==m?m:"This user hasn't set his or her profile.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{class:"label",children:"Public Notes"}),Object(n.jsx)("ul",{children:i.map((function(e){return Object(n.jsx)("li",{children:Object(n.jsx)(b.b,{to:"/note/".concat(e.id),children:e.title})})}))})]})]}),Object(n.jsx)("div",{class:"column"})]})})})},z=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{id:"content",children:Object(n.jsx)("section",{class:"hero is-large",children:Object(n.jsx)("div",{class:"hero-body",children:Object(n.jsxs)("div",{class:"container",children:[Object(n.jsx)("h1",{class:"title is-size-2",children:"NTU Note"}),Object(n.jsx)("h2",{class:"subtitle is-size-4",children:"Your trust-worthy notes platform."})]})})})})}}]),s}(a.a.Component);x.a.defaults.withCredentials=!0;var F=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).loginHandler=function(e){n.setState({user:e})},n.noteHandler=function(e){n.setState({note:e})},n.notesHandler=function(e){n.setState({notes:e})},n.logoutHandler=function(){n.setState({user:null}),x.a.post("/auth/signout")},n.state={user:null,note:null,notes:[]},n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;x.a.post("/auth/signed_in").then((function(t){console.log(t),!0===t.data.signed_in&&e.setState({user:t.data.user}),x.a.post("/api/notes/my").then((function(t){t.data.success&&e.setState({notes:t.data.notes})}))}))}},{key:"render",value:function(){return Object(n.jsx)(b.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(f,{user:this.state.user,note:this.state.note,notes:this.state.notes,noteHandler:this.noteHandler,logoutHandler:this.logoutHandler}),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{path:"/profile/:id",children:Object(n.jsx)(Y,{user:this.state.user})}),Object(n.jsx)(h.b,{path:"/note/:id",id:"note",children:Object(n.jsx)(P,{user:this.state.user,note:this.state.note,noteHandler:this.noteHandler})}),Object(n.jsx)(h.b,{path:"/notes",children:Object(n.jsx)(_,{user:this.state.user,notes:this.state.notes})}),Object(n.jsx)(h.b,{path:"/signin",children:Object(n.jsx)(M,{user:this.state.user,loginHandler:this.loginHandler,notesHandler:this.notesHandler})}),Object(n.jsx)(h.b,{path:"/settings",children:Object(n.jsx)(T,{user:this.state.user,loginHandler:this.loginHandler})}),Object(n.jsx)(h.b,{path:"/",children:Object(n.jsx)(z,{})})]})]})})}}]),s}(a.a.Component),E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,76)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))};l.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root")),E()}},[[75,1,2]]]);
//# sourceMappingURL=main.64390d1f.chunk.js.map